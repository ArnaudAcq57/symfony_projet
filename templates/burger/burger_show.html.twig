{% extends 'base.html.twig' %}

{% block title %}{{ burger.name }}{% endblock %}

{% block body %}
    <div class="container">
        <h1>🍔 {{ burger.name }}</h1>

        <div class="burger-details">
            <p><strong>📝 Description :</strong> {{ burger.description|default('Aucune description disponible.') }}</p>
            <p><strong>💰 Prix :</strong> <span class="price">{{ burger.price }} €</span></p>
        </div>

        <div class="composition">
            <h2>🥪 Composition</h2>
            <ul>
                <li><strong>🍞 Pain :</strong> {{ burger.pain.name }}</li>
                
                {% if burger.oignons is not empty %}
                    <li>
                        <strong>🧅 Oignons :</strong>
                        <ul>
                            {% for oignon in burger.oignons %}
                                <li>{{ oignon.name }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% else %}
                     <li><strong>🧅 Oignons :</strong> Aucun</li>
                {% endif %}

                {% if burger.sauces is not empty %}
                    <li>
                        <strong>🥄 Sauces :</strong>
                        <ul>
                            {% for sauce in burger.sauces %}
                                <li>{{ sauce.name }}</li>
                            {% endfor %}
                        </ul>
                    </li>
                {% else %}
                    <li><strong>🥄 Sauces :</strong> Aucune</li>
                {% endif %}
            </ul>
        </div>

        <div class="actions">
            <form method="post" action="{{ path('app_burger_delete', {'id': burger.id}) }}" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ce burger ?');" style="display: inline-block;">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ burger.id) }}">
                <button type="submit" class="btn btn-danger">🗑️ Supprimer</button>
            </form>
        </div>

        <div class="nav-links">
            <a href="{{ path('app_burger_list') }}" class="btn">← Retour à la liste des burgers</a>
        </div>
    </div>
{% endblock %}